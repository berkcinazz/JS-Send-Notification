<html lang="en">
<head>
  <meta charset="utf-8" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="icon" href="favicon.ico" type="image/png">
  <title>Push Notification</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
  <div class="centrado">
    <div class="card text-center shadow">
      <div class="card-header">
        Push Notifications
      </div>
      <div class="card-body">
        <h5 class="card-title">Test for Push Notifications</h5>
        <p class="card-text">Click twice, first for the permission</p>
        <button class="btn btn-danger" id="btn-show-notification">Notify</button>
      </div>
    </div>
  </div>
</body>

<script>
  $(document).ready(function () {
    $(document).on('DOMContentLoaded', function () {

      if (!Notification) {
        console.log('Notification is not compatible');
        return;
      }

      if (Notification.permission !== 'granted') {
        Notification.requestPermission();
      }
    });

    function showNotification() {
      if (Notification.permission !== 'granted') {
        Notification.requestPermission();
      } else {
        const options = {
          body: 'Your text for the Notification',
          dir: 'ltr',
          image: 'https://media.licdn.com/dms/image/C5603AQHVHBvlu82jZg/profile-displayphoto-shrink_800_800/0/1646061628318?e=1706140800&v=beta&t=ogMvCjCQmmVhCdf0hCsjMrhEXVHKlW8uPjMTSNpYGS4' //must be 728x360px
        };
        const notification = new Notification('Test notification', options);

        notification.onclick = function () {
          window.open('https://google.com');
        };
      }
    }

    $('#btn-show-notification').on('click', showNotification);
  });
</script>


<style>
  .centrado {
    /* Centrado Horizontal */
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    vertical-align: middle;

    /* Centrado Vertical */
    margin: 0;
    position: absolute;
    top: 50%;
    -ms-transform: translateY(-50%);
    transform: translateY(-50%);
  }

  .shadow {
    filter: drop-shadow(2px 4px 8px #585858);
  }
</style>
</html>